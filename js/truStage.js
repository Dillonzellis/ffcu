$(document).ready(function(){"use strict";function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args);}};}
var gridSizeIndicator=$('<div></div>').addClass('grid-size-indicator');$('body').append(gridSizeIndicator);var gridSize;function getGridSize(){var index=gridSizeIndicator.css("z-index");var gridSizes={1:'xs',2:'sm',3:'md',4:'lg'};gridSize=gridSizes[index];}
getGridSize();var pageWidth=$(window).innerWidth();var onResize=debounce(function(){if($(window).innerWidth()!==pageWidth){pageWidth=$(window).innerWidth();getGridSize();setHomeRow1ColHeight();setHomeRow2ColHeight();setTopContentColHeight();rerenderFacebookPagePlugin();}},100,false);$(window).resize(onResize);$('div.SearchDialog input.ContentButton').addClass('btn btn-primary');$('div.FormPanel input.FormButton').addClass('btn btn-primary');$('div#AddToOutlook a.EventManagerOutlookLink').addClass('btn btn-primary-2');$('.LogonDialog input[type="submit"], input.signoutButton').addClass('btn btn-primary');$('article.page-content table.responsive-table').wrap('<div class="table-responsive"></div>');$("iframe[src*='www.youtube.com/embed/']").wrap("<div style='max-width:568px;'><div class='embed-responsive embed-responsive-16by9'></div></div>");$('.phone-input input[maxlength=3]').on('keyup',function(){if(this.value.length===this.maxLength){$(this).next('input').focus();}});$(window).on("load",function(){if(gridSize!=='xs'){$('div#quick-links').collapse();}});$('.account-login').on('show.bs.dropdown',function(){$(this).find('#LoginDropdown').text('Close');});$('.account-login').on('hide.bs.dropdown',function(){$(this).find('#LoginDropdown').text('Login');});$('article.page-content .btn-save-file').prepend('<span class="glyphicon glyphicon-save-file" aria-hidden="true"></span>');$('article.page-content a.btn[target="_blank"]').not('.btn-save-file').prepend('<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span>');$('article.page-content div#content_email').append($('div#contact-form'));$('div.auto-refi-challenge-form-placeholder').replaceWith($('div.auto-refi-challenge-form-wrapper'));$('div.home-equity-loan-form-placeholder').replaceWith($('div.home-equity-loan-form-wrapper'));$('div.heloc-form-placeholder').replaceWith($('div.heloc-form-wrapper'));$('div.refer-a-friend-form-placeholder').replaceWith($('div.refer-a-friend-form-wrapper'));var modalLink=$('a[target="modal"]');modalLink.each(function(){var $this=$(this),modalLinkHref=$this.attr('href'),modalTarget="#"+modalLinkHref.substring(modalLinkHref.lastIndexOf('/')+1,modalLinkHref.indexOf('.aspx'));$this.attr('onclick','return false;').attr('data-toggle','modal').attr('data-target',modalTarget).attr('href','#');});var modalWindow=$("div.modal");function modalAction(eType,eTarget){var thisModalVideoIframe=$(eTarget).find("iframe[src*='www.youtube.com/embed/'], iframe[src*='player.vimeo.com/video/']"),qsAutoPlay;if(thisModalVideoIframe.length){if(thisModalVideoIframe[0].src.indexOf('?')!==-1){qsAutoPlay="&autoplay=1";}else{qsAutoPlay="?autoplay=1";}
if(eType==="show"){thisModalVideoIframe.attr("data-src",thisModalVideoIframe.attr("src")).attr("src",thisModalVideoIframe.attr("src")+qsAutoPlay);}
if(eType==="hidden"){thisModalVideoIframe.attr("src",thisModalVideoIframe.data("src"));}}}
modalWindow.on('show.bs.modal',function(e){modalAction(e.type,e.target);});modalWindow.on('hidden.bs.modal',function(e){modalAction(e.type,e.target);});function setTopContentColHeight(){var topContentBoxes=$('div.top-content div.equal-height');if(topContentBoxes.length>=1){topContentBoxes.css('min-height',0);var topContentCol1Box=$('div.top-content div.online-banking'),topContentCol2Box=$('div.top-content div.page-header'),topContentCol1Height=topContentCol1Box.outerHeight(),topContentCol2Height=topContentCol2Box.outerHeight();if(gridSize==='md'||gridSize==='lg'){var tallestCol=Math.max(topContentCol1Height,topContentCol2Height);topContentBoxes.css('min-height',tallestCol);}}}
$(window).on("load",function(){setTimeout(function(){setTopContentColHeight();},10);});function setHomeRow1ColHeight(){var homeRow1Boxes=$('div.home-row-1 div.hr1-box');if(homeRow1Boxes.length>=1){homeRow1Boxes.css('min-height',0);var homeRow1Col1Box=$('div.home-row-1 div.online-banking'),homeRow1Col2Box=$('div.home-row-1 div.variable-box-1'),homeRow1Col3Box=$('div.home-row-1 div.variable-box-2'),homeRow1Col4Box=$('div.home-row-1 div.atm-locator'),homeRow1Col1Height=homeRow1Col1Box.outerHeight(),homeRow1Col2Height=homeRow1Col2Box.outerHeight(),homeRow1Col3Height=homeRow1Col3Box.outerHeight(),homeRow1Col4Height=homeRow1Col4Box.outerHeight();if(gridSize!=='xs'){var tallestColOf4=Math.max(homeRow1Col1Height,homeRow1Col2Height,homeRow1Col3Height,homeRow1Col4Height);homeRow1Boxes.css('min-height',tallestColOf4);}}}
$(window).on("load",function(){setTimeout(function(){setHomeRow1ColHeight();},10);});function setHomeRow2ColHeight(){var homeRow2Boxes=$('div.home-row-2 .equal-height');if(homeRow2Boxes.length>=1){homeRow2Boxes.css('min-height',0);var homeRow2Col1Box=$('div.home-row-2 div.home-rates'),homeRow2Col2Box=$('div.home-row-2 div.tab-content'),homeRow2Col1Height=homeRow2Col1Box.outerHeight(),homeRow2Col2Height=homeRow2Col2Box.outerHeight()+51;if(gridSize==='md'||gridSize==='lg'){var tallestCol=Math.max(homeRow2Col1Height,homeRow2Col2Height);homeRow2Col1Box.css('min-height',tallestCol);homeRow2Col2Box.css('min-height',tallestCol-51);}}}
$(window).on("load",function(){setTimeout(function(){setHomeRow2ColHeight();},10);});function rerenderFacebookPagePlugin(){var facebookPagePlugin=document.querySelector('.fb-page'),facebookPagePluginParent=facebookPagePlugin.parentElement,facebookPagePluginStyles=window.getComputedStyle(facebookPagePluginParent),facebookPagePluginParentPaddingLeft=parseInt(facebookPagePluginStyles.getPropertyValue('padding-left'),10),facebookPagePluginParentPaddingRight=parseInt(facebookPagePluginStyles.getPropertyValue('padding-right'),10),facebookPagePluginParentWidth=facebookPagePluginParent.clientWidth-facebookPagePluginParentPaddingLeft-facebookPagePluginParentPaddingRight;facebookPagePlugin.setAttribute('data-width',facebookPagePluginParentWidth);FB.XFBML.parse();}
$('div.site-search input.searchTextBox').attr('placeholder','Search');if(document.createElement("input").placeholder===undefined){$('[placeholder]').focus(function(){var input=$(this);if(input.val()===input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=$(this);if(input.val()===''||input.val()===input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur();$('[placeholder]').parents('form').submit(function(){$(this).find('[placeholder]').each(function(){var input=$(this);if(input.val()===input.attr('placeholder')){input.val('');}});});}
var tabItem=$('ul.tabs li');var tabContent=$('.tab-content');var tabValue=window.location.hash.substr(1);var bUseDefaults=true;if(tabContent.length>0){$('form').submit(function(){var frmAction=document.getElementById("form").action;if(frmAction!==''){var hashIndex=frmAction.indexOf('#');if(hashIndex!==-1){frmAction=frmAction.substr(0,frmAction.indexOf('#'));}
document.getElementById("form").action=frmAction+location.hash;}});if((tabValue!=='')&&(tabValue!=='#')){tabItem.each(function(){var tabClass=$(this).attr('class');if(tabValue===tabClass){tabItem.removeClass("active");tabContent.hide();$("ul.tabs li."+tabValue).addClass("active");$("#content_"+tabValue).show();$('html,body').animate({scrollTop:0},0);bUseDefaults=false;}});}
if(bUseDefaults===true){tabContent.hide();tabContent.filter(':first').show();tabItem.filter(':first').addClass('active');}}
tabItem.click(function(){tabItem.removeClass('active');$(this).addClass('active');tabContent.hide();var activeTab=$(this).find('a').attr('href');activeTab=activeTab.replace("#","#content_");$(activeTab).show();});$('.tab-content > :last-child').css('margin-bottom','0');$('.accordion .panel').on('shown.bs.collapse hidden.bs.collapse',function(){$(this).find('.panel-collapse').removeAttr('aria-expanded');});var tabValue=window.location.hash.substr(1);if((tabValue!=='')&&(tabValue!=='#')){$('div.accordion div#'+tabValue).find('div.panel-collapse').collapse('show');}
$('.accordion .collapse').on('show.bs.collapse',function(){$('html, body').animate({scrollTop:$(this).parent().offset().top},700);});$('.accordion .collapse').on('hide.bs.collapse',function(){$('html, body').animate({scrollTop:$(this).parent().offset().top},700);});var randomInitialSlide=false,slideInterval=6000;var homeBannerCarousel=$("div#carousel-homepage"),numOfSlides=homeBannerCarousel.find('.item').length,initialSlideIndex=randomInitialSlide?Math.floor(Math.random()*numOfSlides):0;homeBannerCarousel.prepend("<ol class='carousel-indicators hidden-xs'></ol>");var indicators=$(".carousel-indicators");homeBannerCarousel.find(".carousel-inner").children(".item").each(function(index){if(index===initialSlideIndex){indicators.append("<li data-target='#carousel-homepage' data-slide-to='"+index+"' class='active'></li>");}else{indicators.append("<li data-target='#carousel-homepage' data-slide-to='"+index+"'></li>");}});indicators.append('<li class="togglePausePlay" title="Pause"><span class="glyphicon glyphicon-pause"></span></li>');$('.togglePausePlay').click(function(){var $this=$(this);if($this.hasClass('paused')){homeBannerCarousel.carousel('cycle');$this.toggleClass('paused').attr('title','Pause').html('<span class="glyphicon glyphicon-pause"></span>');}else{homeBannerCarousel.carousel('pause');$this.toggleClass('paused').attr('title','Play').html('<span class="glyphicon glyphicon-play"></span>');}
return false;});homeBannerCarousel.swiperight(function(){$(this).carousel('prev');});homeBannerCarousel.swipeleft(function(){$(this).carousel('next');});homeBannerCarousel.find('.item').eq(initialSlideIndex).addClass('active');homeBannerCarousel.carousel({interval:slideInterval});var sidebarCarousel=$('#carousel-sidebar');sidebarCarousel.find('.item:first').addClass('active');sidebarCarousel.carousel();var yammContentRow=$('ul#MegaMenu > li.dropdown > ul.dropdown-menu > li > div.yamm-content > div.row');yammContentRow.each(function(){$(this).find('> ul > li').unwrap();});yammContentRow.each(function(){$(this).children('li.mm-column').wrap('<ul class="col-xs-12 mm-links"></ul>');});yammContentRow.each(function(){$(this).children('li.mm-solo').wrapAll('<ul class="col-xs-12 mm-links"></ul>');});yammContentRow.each(function(){$(this).children('li.mm-button').wrapAll('<ul class="col-xs-12 mm-buttons"></ul>').children('a').addClass('btn btn-primary btn-block');});$('ul.mm-links').find('li:first').addClass('first');$('ul.mm-links').find('li:last').addClass('last');var colsInMenuSM=[2,2,1,1,1];var colsInMenuMD=[];var colsInMenuLG=[];function setNumOfCols(colsArray,colSizeClass,visibilityClass){function setEachDropDown(i){return function(){var ddMenuCol=$(this).find('.col-xs-12');ddMenuCol.addClass(colSizeClass+String(12/colsArray[i]));if(ddMenuCol.length>colsArray[i]){ddMenuCol.eq(colsArray[i]-1).after('<div class="clearfix '+visibilityClass+'"></div>');}};}
for(var i=0;i<colsArray.length;i++){if(colsArray[i]!==1){$('ul#MegaMenu > li.menu-'+String(i+1)+' > ul.dropdown-menu').each(setEachDropDown(i));}}}
setNumOfCols(colsInMenuSM,"col-sm-","visible-sm-block");setNumOfCols(colsInMenuMD,"col-md-","visible-md-block");setNumOfCols(colsInMenuLG,"col-lg-","visible-lg-block");$('table.RadioButtonList, table.CheckBoxListField, table.CaptchaTable').attr('role','presentation');$('input.required, .required input, textarea.required').not('[type="hidden"], [type="image"], [type="submit"], [type="reset"], [type="button"]').attr('aria-required','true');$('span.EditingFormLabel').each(function(){var thisLabel=$(this),thisLabelId=thisLabel.attr('id'),thisLabelIdLength=thisLabelId.length,thisLabelPartial=thisLabelId.substring(0,thisLabelIdLength-3);$('table.RadioButtonList input[id*="'+thisLabelPartial+'"]').each(function(){var thisRadioButton=$(this);thisRadioButton.attr('aria-describedby',thisLabelId);});});});